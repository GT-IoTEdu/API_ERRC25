[Unit]
Description=FastAPI daemon for IoT-EDU API
After=network.target

[Service]
User=www-data
Group=www-data
WorkingDirectory=/opt/iot_edu/backend
Environment="PATH=/opt/iot_edu/venv/bin"
ExecStart=/opt/iot_edu/venv/bin/uvicorn \
          main:app \
          --host 127.0.0.1 \
          --port 8000 \
          --workers 4
ExecReload=/bin/kill -s HUP $MAINPID
KillMode=mixed
TimeoutStopSec=5
PrivateTmp=true
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target 